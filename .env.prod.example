# Production Environment Configuration
# Copy this file to .env.prod and fill in your actual values
# DO NOT commit .env.prod to version control!

# ===========================================
# Domain Configuration
# ===========================================
DOMAIN_NAME=your-domain.com

# ===========================================
# Application Configuration
# ===========================================
SPRING_PROFILES_ACTIVE=prod
NODE_ENV=production

# ===========================================
# Database Configuration (PostgreSQL)
# ===========================================
DB_HOST=db
DB_NAME=aboveskycalendar
DB_USER=admin
DB_PASSWORD=changeme-use-generate-secrets-script
DB_PORT=5432

# PostgreSQL Docker configuration
POSTGRES_DB=aboveskycalendar
POSTGRES_USER=admin
POSTGRES_PASSWORD=changeme-use-generate-secrets-script

# ===========================================
# JWT Configuration
# ===========================================
JWT_SECRET=changeme-use-generate-secrets-script-minimum-64-characters
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000

# ===========================================
# Redis Configuration (Caching)
# ===========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=changeme-use-generate-secrets-script

# ===========================================
# Email Configuration (SendGrid)
# ===========================================
MAIL_HOST=smtp.sendgrid.net
MAIL_PORT=587
MAIL_USERNAME=apikey
MAIL_PASSWORD=changeme-your-sendgrid-api-key

# SendGrid specific
SENDGRID_API_KEY=changeme-your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@your-domain.com
SENDGRID_FROM_NAME=Above Sky Calendar

# ===========================================
# CORS Configuration
# ===========================================
CORS_ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com

# ===========================================
# Monitoring Configuration
# ===========================================

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=changeme-use-generate-secrets-script

# Prometheus
PROMETHEUS_RETENTION_DAYS=30d

# Alertmanager / Slack
SLACK_WEBHOOK_URL=changeme-your-slack-webhook-url

# ===========================================
# Backup Configuration
# ===========================================

# AWS S3 for offsite backups
AWS_ACCESS_KEY_ID=changeme-your-aws-access-key
AWS_SECRET_ACCESS_KEY=changeme-your-aws-secret-key
AWS_S3_BUCKET=aboveskycalendar-backups
AWS_REGION=us-east-1

# Backup retention
BACKUP_RETENTION_DAYS=30

# ===========================================
# SSL Configuration
# ===========================================
SSL_EMAIL=admin@your-domain.com

# ===========================================
# Logging (ELK Stack)
# ===========================================
LOGSTASH_HOST=logstash
LOGSTASH_PORT=5000

# Elasticsearch
ES_JAVA_OPTS=-Xms2g -Xmx2g

# ===========================================
# Docker Registry (for CI/CD)
# ===========================================
DOCKER_USERNAME=your-docker-username
DOCKER_TOKEN=changeme-your-docker-token

# ===========================================
# Resource Limits
# ===========================================

# Backend
BACKEND_MIN_MEMORY=512m
BACKEND_MAX_MEMORY=2g
BACKEND_CPUS=2

# Frontend
FRONTEND_MAX_MEMORY=512M
FRONTEND_CPUS=1

# Database
DB_MAX_MEMORY=2G
DB_CPUS=2

# Redis
REDIS_MAX_MEMORY=512M
REDIS_CPUS=1

# ===========================================
# Application Ports (Default values)
# ===========================================
# Usually you don't need to change these
BACKEND_PORT=8080
FRONTEND_PORT=80
POSTGRES_PORT=5432
REDIS_PORT=6379
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
ELASTICSEARCH_PORT=9200
KIBANA_PORT=5601

# ===========================================
# Feature Flags
# ===========================================
ENABLE_MONITORING=true
ENABLE_ELK=true
ENABLE_RATE_LIMITING=true
ENABLE_CACHING=true

# ===========================================
# Security
# ===========================================
# Enable these in production
FORCE_HTTPS=true
HSTS_ENABLED=true
CSRF_ENABLED=true

# ===========================================
# Notes
# ===========================================
# 1. Generate secure secrets using: ./scripts/generate-secrets.sh
# 2. Never commit this file with real values to version control
# 3. Store production credentials in a secure password manager
# 4. Rotate secrets every 90 days
# 5. Use different secrets for each environment (dev, staging, prod)
